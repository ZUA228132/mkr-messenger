# MKR Server Quick Start

–ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–µ—Ä–≤–µ—Ä–æ–≤ MKR.

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã MKR

### –ú–∏–Ω–∏–º—É–º (–¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π):

‚úÖ **IMAP/SMTP —Å–µ—Ä–≤–µ—Ä** - —ç—Ç–æ –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏!

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π):

- üìû **WebRTC —Å–µ—Ä–≤–µ—Ä** - –¥–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∏ –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–æ–≤
- üìÅ **Media Storage** - –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

---

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (5 –º–∏–Ω—É—Ç)

### –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç - Mail-in-a-Box:

```bash
# –ù–∞ –≤–∞—à–µ–º Ubuntu —Å–µ—Ä–≤–µ—Ä–µ:
curl -s https://mailinabox.email/setup.sh | sudo bash
```

**During setup:**
- Hostname: `mkr.su`
- Email: `admin@mkr.su`

**–í—Å—ë!** –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ IMAP —Å–µ—Ä–≤–µ—Ä: `imap.mkr.su:993`
- ‚úÖ SMTP —Å–µ—Ä–≤–µ—Ä: `smtp.mkr.su:465`
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- ‚úÖ Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

---

## üìß –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –æ –ø–æ—á—Ç–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ

MKR –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ email –ø—Ä–æ—Ç–æ–∫–æ–ª—ã:
- **IMAP** - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- **SMTP** - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ MKR** –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—ã—á–Ω—ã–µ email –∞–¥—Ä–µ—Å–∞:
- `user1@mkr.su`
- `user2@mkr.su`
- –∏ —Ç.–¥.

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç –∞–¥—Ä–µ—Å `@mkr.su`, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –≤–∞—à–∏–º —Å–µ—Ä–≤–µ—Ä–∞–º (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ `MKRConfig.swift`).

---

## üñ•Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ—á—Ç—ã):

| –†–µ—Å—É—Ä—Å | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ |
|--------|-----------|
| RAM | 1 GB |
| CPU | 1 —è–¥—Ä–æ |
| –î–∏—Å–∫ | 10 GB |
| OS | Ubuntu 20.04+ / Debian |

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ (—Å WebRTC):

| –†–µ—Å—É—Ä—Å | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ |
|--------|-----------|
| RAM | 2-4 GB |
| CPU | 2 —è–¥—Ä–∞ |
| –î–∏—Å–∫ | 20 GB |
| OS | Ubuntu 20.04+ / Debian |

---

## üîß DNS –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–î–æ–±–∞–≤—å—Ç–µ –≤ DNS –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞ `mkr.su`:

```
A       @       YOUR_SERVER_IP
A       imap    YOUR_SERVER_IP
A       smtp    YOUR_SERVER_IP
MX      @       10  smtp.mkr.su
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# IMAP –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å
openssl s_client -connect imap.mkr.su:993

# SMTP –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å
openssl s_client -connect smtp.mkr.su:465
```

---

## üìû –î–æ–±–∞–≤–ª–µ–Ω–∏–µ WebRTC (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö/–≤–∏–¥–µ–æ –∑–≤–æ–Ω–∫–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ coturn:

```bash
sudo apt install coturn

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è /etc/turnserver.conf:
listening-port=3478
fingerprint
lt-cred-mech
user=turnuser:your_password
realm=mkr.su
```

```bash
sudo systemctl restart coturn
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Mail-in-a-Box** –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS** –∑–∞–ø–∏—Å–∏
3. **–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** —á–µ—Ä–µ–∑ web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. **–ì–æ—Ç–æ–≤–æ!** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è

---

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [MKR_SERVER_DEPLOYMENT.md](MKR_SERVER_DEPLOYMENT.md)

---

## üí° –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü–æ—á—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** - –±–µ–∑ –Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
2. **WebRTC –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω** - –±–µ–∑ –Ω–µ–≥–æ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ –Ω–µ –∑–≤–æ–Ω–∫–∏
3. **Media Storage –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω** - —Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞–∫ –≤–ª–æ–∂–µ–Ω–∏—è –≤ –ø–∏—Å—å–º–∞—Ö
4. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ HTTPS

---

**–ú–∏–Ω–∏–º—É–º –¥–ª—è –∑–∞–ø—É—Å–∫–∞:** –¢–æ–ª—å–∫–æ IMAP/SMTP —Å–µ—Ä–≤–µ—Ä (Mail-in-a-Box)
