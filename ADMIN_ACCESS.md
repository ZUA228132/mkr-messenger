# üéâ MKR Admin Panel - –ì–æ—Ç–æ–≤–æ!

## ‚úÖ –ê–¥–º–∏–Ω–∫–∞ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞!

### üåê URL
**https://kluboksrm.ru/admin.html**

### üîë –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞

**Email:** admin@mkr.com  
**Password:** admin123

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å!

---

## ÔøΩ –ï—Ç—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Ö–æ–¥

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ CORS
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –¥–æ—Å—Ç—É–ø–µ–Ω: https://kluboksrm.ru/api/health
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–≤–æ–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
   - Email: `admin@mkr.com` (–Ω–µ username!)
   - Password: `admin123`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –Ω–∞–ø—Ä—è–º—É—é:

```bash
curl -X POST https://kluboksrm.ru/api/auth/login/email \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@mkr.com","password":"admin123"}'
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "userId": "...",
  "token": "...",
  "accessLevel": 10
}
```

---

## üìä –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω–∫–∏  
‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ email  
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  
‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏  
‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
‚úÖ –ë–∞–Ω/—Ä–∞–∑–±–∞–Ω  
‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞  
‚úÖ –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤  
‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥  

---

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏
- –û–Ω–ª–∞–π–Ω –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Backend
- ‚úÖ Ktor —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8080
- ‚úÖ PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ Admin API endpoints
- ‚úÖ Health check endpoint

### Frontend
- ‚úÖ Vanilla JavaScript (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CSS
- ‚úÖ LocalStorage –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### Nginx
- ‚úÖ SSL/TLS (HTTPS)
- ‚úÖ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ API
- ‚úÖ WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

---

## üìù –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://kluboksrm.ru/admin.html
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. –í–≤–µ–¥–∏—Ç–µ:
   - Email: `admin@mkr.com`
   - Password: `admin123`
4. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏"
5. –ì–æ—Ç–æ–≤–æ! –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º–æ–π

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –¢—Ä–µ–±—É–µ—Ç—Å—è access_level >= 10 (–∞–¥–º–∏–Ω)
- JWT —Ç–æ–∫–µ–Ω—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ (5 –ø–æ–ø—ã—Ç–æ–∫)
- HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

---

## üîÑ –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
ssh root@193.111.117.137

# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ö–µ—à –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è
echo -n "–í–ê–®_–ù–û–í–´–ô_–ü–ê–†–û–õ–¨" | sha256sum | awk '{print $1}' | xxd -r -p | base64

# –û–±–Ω–æ–≤–∏—Ç–µ –≤ –ë–î
PGPASSWORD=Pioneer2024 psql -U pioneer -d pioneer -c "UPDATE users SET password_hash = '–í–ê–®_–•–ï–®' WHERE email = 'admin@mkr.com';"
```

---

## üìà API Endpoints

```
GET  /api/health              - Health check (–ø—É–±–ª–∏—á–Ω—ã–π)
POST /api/auth/login/email    - –í—Ö–æ–¥
GET  /api/admin/stats         - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∞–¥–º–∏–Ω)
GET  /api/admin/health        - –ó–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–µ—Ä–∞ (–∞–¥–º–∏–Ω)
GET  /api/users               - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
POST /api/users/{id}/verify   - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
POST /api/users/{id}/ban      - –ë–∞–Ω
DELETE /api/users/{id}/ban    - –†–∞–∑–±–∞–Ω
GET  /api/chats               - –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤
```

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω":

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ URL –∑–∞–ø—Ä–æ—Å–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ email, –∞ –Ω–µ username
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:

```bash
ssh root@193.111.117.137
PGPASSWORD=Pioneer2024 psql -U pioneer -d pioneer -c "SELECT username, email, email_verified, access_level FROM users WHERE email = 'admin@mkr.com';"
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
username |     email     | email_verified | access_level 
----------+---------------+----------------+--------------
Makar    | admin@mkr.com | t              |           10
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É
2. ‚ö†Ô∏è –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å
3. üìä –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
4. üë• –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
5. üîç –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º—É

---

**–°–æ–∑–¥–∞–Ω–æ:** 17 —è–Ω–≤–∞—Ä—è 2026  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç  
**API –ø—Ä–æ–≤–µ—Ä–µ–Ω:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ HTTPS
