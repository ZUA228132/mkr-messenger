# MKR Secure Messenger - –§—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

–ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –∏–∑ –æ–±—ã—á–Ω–æ–≥–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ –≤ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –¥–ª—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π.

### –£–±—Ä–∞–Ω–æ
- ‚ùå Stories (–∏—Å—Ç–æ—Ä–∏–∏ –Ω–∞ 24 —á–∞—Å–∞)
- ‚ùå Reels (–∫–æ—Ä–æ—Ç–∫–∏–µ –≤–∏–¥–µ–æ)
- ‚ùå –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã
- ‚ùå –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–π –º–∞—Å—Ç–µ—Ä-–∫–ª—é—á —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (–±—ç–∫–¥–æ—Ä)

### –î–æ–±–∞–≤–ª–µ–Ω–æ

## 1. Signal Protocol (Double Ratchet)

Perfect Forward Secrecy - –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —à–∏—Ñ—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∫–ª—é—á–æ–º.

**–§–∞–π–ª—ã:**
- `data/crypto/SignalProtocol.kt` - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- X25519 –¥–ª—è –æ–±–º–µ–Ω–∞ –∫–ª—é—á–∞–º–∏
- AES-256-GCM –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
- HKDF –¥–ª—è –¥–µ—Ä–∏–≤–∞—Ü–∏–∏ –∫–ª—é—á–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π
- Safety Numbers –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–ª—é—á–µ–π
- –ó–∞—â–∏—Ç–∞ –æ—Ç replay-–∞—Ç–∞–∫
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–∏
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π

## 2. Panic Button

–≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∑–∞ 3 —Å–µ–∫—É–Ω–¥—ã.

**–§–∞–π–ª—ã:**
- `ui/security/PanicButtonScreen.kt` - UI
- `ui/security/PanicButtonViewModel.kt` - –ª–æ–≥–∏–∫–∞
- `data/security/SecureDataManager.kt` - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

**–ß—Ç–æ —É–¥–∞–ª—è–µ—Ç—Å—è:**
- –í—Å–µ –∫–ª—é—á–∏ –∏–∑ Android Keystore
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —á–∞—Ç—ã
- –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å 3 –ø—Ä–æ—Ö–æ–¥–∞)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø—Ä–æ—Ñ–∏–ª—å
- –¢–æ–∫–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## 3. –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

**–§–∞–π–ª—ã:**
- `data/security/AutoDeleteManager.kt`

**–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã:**
- 1 –¥–µ–Ω—å
- 3 –¥–Ω—è
- 7 –¥–Ω–µ–π
- 30 –¥–Ω–µ–π
- –ü–æ—Å–ª–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è
- –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —á–∞—Ç–∞

## 4. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤

**–§–∞–π–ª—ã:**
- `data/security/ScreenshotBlocker.kt`

FLAG_SECURE –Ω–∞ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

**–§–∞–π–ª—ã:**
- `data/security/SecureDataManager.kt`

- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Android Keystore
- Secure Wipe (3 –ø—Ä–æ—Ö–æ–¥–∞ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

## 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–ù–û–í–û–ï)

**–§–∞–π–ª—ã:**
- `data/security/SecurityManager.kt` - –≥–ª–∞–≤–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
- `ui/security/SecurityCheckScreen.kt` - UI –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- üîç Root-–¥–æ—Å—Ç—É–ø (Magisk, SuperSU, KingRoot)
- üîç –û—Ç–ª–∞–¥—á–∏–∫ (debugger attached)
- üîç –≠–º—É–ª—è—Ç–æ—Ä (Genymotion, Android Studio)
- üîç –û–ø–∞—Å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Xposed, Frida, Lucky Patcher)
- üîç USB-–æ—Ç–ª–∞–¥–∫–∞
- üîç Developer Options
- üîç –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å APK

**–£—Ä–æ–≤–Ω–∏ —Ä–∏—Å–∫–∞:**
- ‚úÖ SAFE - –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ
- üü° LOW - –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- üü† MEDIUM - —Å—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫
- üî¥ HIGH - –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫
- ‚õî CRITICAL - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–≥—Ä–æ–∑—ã

## 7. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤ (–ù–û–í–û–ï)

**–§–∞–π–ª—ã:**
- `data/security/MediaEncryption.kt`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- AES-256-GCM –¥–ª—è –≤—Å–µ—Ö –º–µ–¥–∏–∞
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü–æ—Ç–æ–∫–æ–≤–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

## 8. Stealth Mode - –°–∫—Ä—ã—Ç—ã–π —Ä–µ–∂–∏–º (–ù–û–í–û–ï)

**–§–∞–π–ª—ã:**
- `data/security/StealthMode.kt` - –ª–æ–≥–∏–∫–∞
- `ui/security/StealthModeScreen.kt` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `ui/security/FakeCalculatorScreen.kt` - —Ñ–µ–π–∫–æ–≤—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä

**–ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥:**
- üì± –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
- üìù –ó–∞–º–µ—Ç–∫–∏
- üå§ –ü–æ–≥–æ–¥–∞

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –í–∫–ª—é—á–∞–µ—Ç–µ —Å–∫—Ä—ã—Ç—ã–π —Ä–µ–∂–∏–º
2. –ó–∞–¥–∞—ë—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ (6 —Ü–∏—Ñ—Ä)
3. –ò–∫–æ–Ω–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–µ–Ω—è–µ—Ç—Å—è
4. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–µ–π–∫–æ–≤—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
5. –í–≤–æ–¥–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä

## 9. –°–µ—Ç–µ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–ù–û–í–û–ï)

**–§–∞–π–ª—ã:**
- `data/security/NetworkSecurity.kt`

**–ó–∞—â–∏—Ç–∞:**
- Certificate Pinning (–∑–∞—â–∏—Ç–∞ –æ—Ç MITM)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏/VPN
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—Ç–ø–µ—á–∞—Ç–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

## 10. –ë–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–ù–û–í–û–ï)

**–§–∞–π–ª—ã:**
- `data/security/BiometricManager.kt`

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:**
- –û—Ç–ø–µ—á–∞—Ç–æ–∫ –ø–∞–ª—å—Ü–∞
- Face ID
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ Android Keystore
- –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

## 11. –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ (–ù–û–í–û–ï)

**–§–∞–π–ª—ã:**
- `data/security/SecureKeyboard.kt`

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–∞–≤–∏–∞—Ç—É—Ä
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∫–ª–∞–≤–∏–∞—Ç—É—Ä

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

–û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å:
- –ß–∞—Ç—ã
- –ö–∞—Ä—Ç–∞ (–≤–º–µ—Å—Ç–æ Reels)
- –ö–∞–Ω–∞–ª—ã
- –ü—Ä–æ—Ñ–∏–ª—å

–£–±—Ä–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –∏—Å—Ç–æ—Ä–∏–π –∏–∑ ChatListScreen.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–î–æ–±–∞–≤–ª–µ–Ω—ã –≤ SecuritySettingsScreen:
- Panic Button (–∫—Ä–∞—Å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞)
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Signal Protocol

## API

–î–æ–±–∞–≤–ª–µ–Ω endpoint:
- `POST /api/auth/revoke-all` - –æ—Ç–∑—ã–≤ –≤—Å–µ—Ö —Ç–æ–∫–µ–Ω–æ–≤

## –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è

### –î–æ (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)
```kotlin
const val INVESTIGATION_MASTER_KEY = "PIONEER-MASTER-2024-..."
```

### –ü–æ—Å–ª–µ (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
```kotlin
// –ù–∏–∫–∞–∫–∏—Ö –±—ç–∫–¥–æ—Ä–æ–≤!
// –í—Å–µ –∫–ª—é—á–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
// Perfect Forward Secrecy
```

## –°–±–æ—Ä–∫–∞

```bash
./gradlew :app:assembleRelease
```

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- Android 8.0+ (API 26+)
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏—è—Ö
- Signal Protocol —Ç—Ä–µ–±—É–µ—Ç Android Keystore
